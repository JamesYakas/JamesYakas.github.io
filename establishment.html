<!DOCTYPE html><html><head><title>Admin</title> <script src="//api.backendless.com/sdk/js/latest/backendless.min.js"></script> <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css"><link rel="stylesheet" href="../CSS/adminmain2.css"></head><body> <script>const checkStatus=localStorage.getItem("userStatus");console.log(checkStatus);if(checkStatus!="logged_in"){window.location.href="../admin.html";}</script> <nav><div class="nav-wrapper nav-sidenav"> <a href="../index.html" class="brand-logo"><img class="nav-logo" src="../images/happylocal-logo-transparent.png" ></a><ul id="nav-mobile" class="right hide-on-med-and-down"><li><a class="logout-wrapper" onclick="logoutUser()"><img class="nav-logout-logo" src="../images/logout.png">Logout</a></li></ul><ul id="nav-mobile" class="right hide-on-med-and-down"><li><a class="" id="userEmail"></a></li></ul></div> </nav><ul id="slide-out" class="sidenav sidenav-fixed nav-sidenav"><br><br><li><a class="white-text selected-sidenav" href="#!">Establishments</a></li><li><a class="white-text" href="cuisines.html">Cuisines</a></li><li><a href="admin-management.html" class="white-text" onclick="adminDebug()">Admin</a></li></ul> <a href="#" data-target="slide-out" class="sidenav-trigger"><i class="material-icons">menu</i></a><div class="main-section"><h3 class="adminHeading">Establishment & Special Management</h3><div class="country-tab-big-wrapper"><div class="row country-tab-wrapper"><div class="col s12 tabs-fixed-width country-tab"><ul class="tabs country-tab"><li class="tab col s3 country-tab"><a href="#test2" onclick="displayAus()">Australia</a></li><li class="tab col s3 country-tab"><a href="#test1" onclick="displayNZ()">New Zealand</a></li></ul></div></div></div><div class="listboxesAndFormWrapper"><div class="listbox"><div id="headingLstBoxEstablishments">Establishments - Australia</div><div class="row search-establishment-table"><div class="input-field col s10"> <input class="search-establishment" id="myInput" type="text" placeholder="Search for a name, address, suburb or postcode..."></div></div><table class="striped" id='tbl' border=5><thead><tr><th>Name</th><th>Address</th></tr></thead><tbody id="myTable"></tbody></table></div><div class="listbox"><div class="specials-heading">Specials</div> <select class="browser-default" multiple id="specialListBox" onclick="getSpecial()"></select></div> <main id="displaySpecialsForm"><div class="row"><form class="col s12" id="displayEstablishmentandSpecial-form"><div id="formHeading" >Establishment details</div><div id="formEstablishmentDetails"><div class="row" style="display: none;"><div class="input-field col s6 admin-input"> <label style="font-size: 12px;" class="label1" for="establishmentId">Establishment ID</label><br> <input type="text" name="establishmentId" id="establishmentId" class="validate" disabled></div></div><div class="row"><div class="input-field col s4 admin-input"> <input type="text" name="name" id="name" class="validate validate-text" disabled> <label style="font-size: 12px;" class="label1" for="name">Name</label></div></div><div class="row"><div class="input-field col s6 admin-input"> <input type="text" name="address" id="address" class="validate" disabled> <label style="font-size: 12px;" class="label1" for="address">Address</label></div></div><div class="row"><div class="input-field col s4 admin-input"> <input type="text" name="suburb" id="suburb" class="validate" disabled> <label style="font-size: 12px;" class="label1" for="suburb">Suburb</label><br></div><div class="input-field col s2 admin-input"> <input type="text" name="Postcode" id="postcode" class="validate" disabled> <label style="font-size: 12px;" class="label1" for="Postcode">Postcode</label><br></div><div class="input-field col s4 admin-input" style="margin-left: 60px; display: none;"> <input type="text" name="country" id="country" class="validate" disabled> <label style="font-size: 12px;" class="label1" for="country">Country</label><br></div></div><div class="row"><div class="input-field col s4 admin-input"> <input type="text" name="establishmentType" id="establishmentType" class="validate" disabled> <label style="font-size: 12px;" class="label1" for="establishmentType">Establishment Type</label><br></div><div class="input-field col s4 admin-input"> <input type="text" name="cusineType" id="cusineType" class="validate" disabled> <label style="font-size: 12px;" class="label1" for="cusineType">Cusine type</label><br></div></div><div class="row image-debug" > <img class="image-link" href="/images/default.jpg" id="image" src="/images/default.jpg" onerror="this.style.display='none'"></div><div id="image-file-name"></div></div><div id="formSpecialDetails" style="display: none;"><div class="row" style="display: none;"><div class="input-field col s6 admin-input"> <input type="text" name="establishmentIdSpecial" id="establishmentIdSpecial" class="validate" disabled> <label style="font-size: 12px;" class="label1" for="establishmentIdSpecial">Establishment ID</label><br></div><div class="input-field col s6 admin-input"> <input type="text" name="specialId" id="specialId" class="validate" disabled> <label style="font-size: 12px;" class="label1" for="specialId">Special ID</label><br></div></div><div class="row"><div class="input-field col s12 admin-input"> <input type="text" name="daysOfWeek" id="daysOfWeek" class="validate" disabled> <label style="font-size: 12px;" class="label1" for="daysOfWeek">Days of the week</label><br></div></div><div class="row"><div class="input-field col s6 admin-input"> <input type="text" name="startTime" id="startTime" class="validate" disabled> <label style="font-size: 12px;" class="label1" for="startTime">Start time</label><br></div><div class="input-field col s6 admin-input"> <input type="text" name="endTime" id="endTime" class="validate" disabled> <label style="font-size: 12px;" class="label1" for="endTime">End time</label><br></div></div><div class="row"><div class="input-field col s4 admin-input"> <input type="text" name="category" id="category" class="validate" disabled> <label style="font-size: 12px;" class="label1" for="category">Special category</label><br></div></div><div class="row"><div class="input-field col s4 admin-input"> <input type="text" name="typeOfSpecial" id="typeOfSpecial" class="validate" disabled> <label style="font-size: 12px;" class="label1" for="typeOfSpecial">Type of special</label><br></div></div><div class="row tooltipped" id="tooltip" data-position="top" data-tooltip="I am a tooltip"><div class="input-field col s16 admin-input"><textarea id="description" class="materialize-textarea description" disabled></textarea><label style="font-size: 12px;" class="label1" for="description">Description</label><br></div></div><div class="row description-full-text" style="display: none;" ><div class="input-field col s16 admin-input"><textarea id="descriptionFullText" class="materialize-textarea" disabled></textarea><label style="font-size: 12px;" class="label1" for="descriptionFullText">Description</label><br></div></div></div> <br><div class="crud-btns"> <button class="waves-effect waves-light btn modal-trigger" id="addBtn" href="#modal1">Create</button> <button class="waves-effect waves-light btn modal-trigger" id="updateBtn" href="#modal2">Update</button> <button class="waves-effect waves-light btn modal-trigger" id="deleteBtn" href="#modalDeleteCancelConfirm">Delete</button></div></form></div> </main></div><div id="modal1" class="modal modal-admin modal-add"><div class="modal-content-addupdate-special-heading">Create New Special</div><div class="modal-content"> <main><div class="row"><form class="col s12" id="addspecial-form"><div class="addSpecialSubHeading"><h5>Add special to the existing establishment?</h5></div><div class="row add-special-to-existing-establishment"><div class="col s6"><div class="row"><div class="input-field col s10"> <input type="text" id="addToExistingEstablishment" name="" placeholder="Search name or address" class="autocomplete" disabled></div></div></div><div id="checkBoxAddToEstablishment"> <label> <input type="checkbox" class="filled-in" id="chkBoxAddToEstablishment" onclick="checkBoxAddToEstablishmentFunc()"/> <span>Add special</span> </label></div></div><div class="or" id="or"><b>or</b></div><div class="addSpecialSubHeading" id="addSpecialSubHeading"><h5>Create for a new establishment</h5></div><div class="row"><div class="input-field col s10"> <input id="add_name" type="text" class="validate"> <label for="add_name">Name</label></div></div><div class="row"><div class="input-field col s10"> <input id="add_address" type="text" class="validate"> <label for="add_address">Address</label></div></div><div class="row"><div class="input-field col s3"> <input id="add_suburb" type="text" class="validate"> <label for="add_suburb">Suburb</label></div><div class="input-field col s1"> <input id="add_postcode" type="text" class="validate"> <label for="add_postcode">Postcode</label></div></div><div class="row"><div class="input-field col s3"> <select id="add_country"><option value="" disabled selected>Choose your country</option><option value="Australia">Australia</option><option value="New Zealand">New Zealand</option> </select> <label>Country</label></div></div><div class="row"><div class="input-field col s4"> <select id="add_establishment_type"><option value="" disabled>Choose your establishment type</option><option value="Restaurant">Restaurant</option><option value="Bar">Bar</option><option value="N/A" selected>N/A</option> </select> <label>Establishment Type</label></div></div><div class="row"><div class="input-field col s4"> <select id="add_cusine_type" multiple size="5"> </select> <label>Cuisine Type</label></div></div><div class="file-field input-field"><div class="btn"> <span>Image</span> <input type="file" id="files" name="files[]" accept="image/*"></div><div class="file-path-wrapper"> <input class="file-path validate" id="filesText" type="text"></div></div><div id="checkBoxAddDefaultImg"> <label> <input type="checkbox" class="filled-in" id="chkBoxAddDefaultImg" onclick="checkBoxAddDefaultImg()"/> <span>Use default Image</span> </label></div> <br><div id="skipSpecial"><h6><i>Skip special details for now and create establishment.</i></h6> <button id="addSkipSpecialBtn" class="waves-effect waves-light btn-small" value="Upload File">Create establishment</button><br><br></div><div class="addSpecialSubHeading"><h5>Enter your special details</h5></div><div class="row"><div class="input-field col s6 days-of-week"> <select id="add_days_of_the_week" multiple onchange="daysDebug()"><option value="" disabled>Choose your days of the week</option><option value="Monday">Monday</option><option value="Tuesday">Tuesday</option><option value="Wednesday">Wednesday</option><option value="Thursday">Thursday</option><option value="Friday">Friday</option><option value="Saturday">Saturday</option><option value="Sunday">Sunday</option> </select> <label>Days of the week</label></div></div> Time period<br><div class="row"><div class="input-field col s2"> <input type="time" id="add_start_time" value="18:00" step="1800" style="width: 105px;"> <label for="add_start_time">Starts:</label></div><div class="input-field col s2"> <input type="time" id="add_end_time" value="21:00" step="1800" style="width: 105px;"> <label for="add_end_time">Ends:</label></div></div><div class="row"><div class="input-field col s4"> <select id="add_category"><option value="" disabled selected>Choose your category</option><option value="Breakfast Special">Breakfast Special</option><option value="Lunch Special">Lunch Special</option><option value="Dinner Special">Dinner Special</option> </select> <label>Category</label></div></div><div class="row"><div class="input-field col s4"> <select id="add_type_of_special"><option value="" disabled selected>Choose your type of special</option><option value="Food">Food</option><option value="Drink">Drink</option> </select> <label>Type of special</label></div></div><div class="row" style="margin-left: 4px;"><form class="col s12"><div class="row"><div class="input-field col s5"><textarea id="add_description" class="materialize-textarea" data-length="120"></textarea><label for="add_description">Description</label></div></div></form></div></form></div> </main></div><div class="modal-footer"> <button id="addCancelBtn" class="waves-effect waves-red btn-flat modal-trigger modal-addupdate-special-cancel" href="#">Cancel</button> <button id="addConfirmBtn" class="waves-effect waves-green btn-flat modal-addupdate-special-confirm">Confirm</button></div></div><div id="modalAddCancelConfirm" class="modal"><div class="modal-content-addupdate-special-heading">Warning!</div><div class="modal-content"> You have unsaved changes</div><div class="modal-footer"> <button id="addCancelConfirmDiscardBtn" class="modal-close waves-effect waves btn-flat modal-addupdate-discard">Discard changes</button> <button id="addCancelConfirmReturnBtn" class="modal-close waves-effect waves btn-flat modal-addupdate-discard-return">Return</button></div></div><div id="modal2" class="modal modal-admin modal-update"><h4 class="modal-content-addupdate-special-heading" id="updateHeading" >Update Establishment</h4><div class="modal-content"> <main><div class="row"><form class="col s12" id="updatespecial-form"><div id="formUpdateEstablishmentDetails"><div class="row" style="display: none;"><div class="input-field col s10"> <input id="update_establishmentId" type="text" class="validate" disabled> <label for="update_establishmentId">Establishment ID</label></div></div><div class="row"><div class="input-field col s10"> <input id="update_name" type="text" class="validate"> <label for="update_name">Name</label></div></div><div class="row"><div class="input-field col s10"> <input id="update_address" type="text" class="validate"> <label for="update_address">Address</label></div></div><div class="row"><div class="input-field col s4"> <input id="update_suburb" type="text" class="validate"> <label for="update_suburb">Suburb</label></div><div class="input-field col s1"> <input id="update_postcode" type="text" class="validate"> <label for="update_postcode">Postcode</label></div></div><div class="row"><div class="input-field col s3"> <select id="update_country"><option value="" disabled selected>Choose your country</option><option value="Australia">Australia</option><option value="New Zealand">New Zealand</option> </select> <label>Country</label></div></div><div class="row"><div class="input-field col s4"> <select id="update_establishment_type"><option value="" disabled selected>Choose your establishment type</option><option value="Restaurant">Restaurant</option><option value="Bar">Bar</option><option value="N/A">N/A</option> </select> <label>Establishment Type</label></div><div class="input-field col s4 filter" > <select id="update_cusine_type" multiple> </select> <label>Cuisine type</label></div></div><div class="update-image-wrapper center-align"><div class="row" > <img class="center-align" id="updateimage"><div id="update-image-file-name"></div></div></div><div class="file-field input-field update-file-wrapper"><div class="btn"> <span>Image</span> <input type="file" id="updateFiles" name="updateFiles[]" accept="image/*"></div><div class="file-path-wrapper"> <input class="file-path validate" id="updateFilesText" type="text"></div></div><div id="checkBoxUpdateDefaultImg"> <label> <input type="checkbox" class="filled-in" id="chkBoxUpdateDefaultImg" onclick="checkBoxUpdateDefaultImg()"/> <span>Use default Image</span> </label></div><br> <i>Issue - If updating image using the same file name, please refresh to view changes.</i></div><div id="formUpdateSpecialDetails" style="display: none;"><br><div class="row"><div class="input-field col s4"> <select id="update_days_of_the_week" multiple><option value="" disabled selected>Choose your days of the week</option><option value="Monday">Monday</option><option value="Tuesday">Tuesday</option><option value="Wednesday">Wednesday</option><option value="Thursday">Thursday</option><option value="Friday">Friday</option><option value="Saturday">Saturday</option><option value="Sunday">Sunday</option> </select> <label>Days of the week</label></div></div> Time period<br><div class="row"><div class="input-field col s2"> <input type="time" id="update_start_time" style="width: 100px;"> <label for="update_start_time">Starts:</label></div><div class="input-field col s2"> <input type="time" id="update_end_time" style="width: 100px;"> <label for="update_end_time">Ends:</label></div></div><div class="row"><div class="input-field col s4"> <select id="update_category"><option value="" disabled selected>Choose your category</option><option value="Happy Hour">Happy Hour</option><option value="Dinner Special">Dinner Special</option><option value="Lunch Special">Lunch Special</option><option value="Breakfast Special">Breakfast Special</option> </select> <label>Category</label></div></div><div class="row"><div class="input-field col s4"> <select id="update_type_of_special"><option value="" disabled selected>Choose your type of special</option><option value="Food">Food</option><option value="Drink">Drink</option> </select> <label>Type of special</label></div></div><div class="row"><div class="input-field col s10"><textarea id="update_description" class="materialize-textarea" data-length="120"></textarea><label for="update_description" >Description</label></div></div></div></form></div> </main></div><div class="modal-footer"> <button id="updateCancelBtn" class="modal-close waves-effect waves-red btn-flat modal-addupdate-special-cancel">Cancel</button> <button id="updateConfirmBtn" class="modal-close waves-effect waves-green btn-flat modal-addupdate-special-confirm">Confirm</button></div></div><div id="modalDeleteCancelConfirm" class="modal"><div class="modal-content-delete-heading"><div><img src="../images/warning-delete.png"><div class="modal-delete-heading-message" id="deleteConfirmHeading"></div></div></div><div class="modal-delete-message" id="establishmentToDelete">Do you want to delete the selected Establishment?</div><div class="modal-footer"> <button id="deleteCancelConfirmDeleteBtn" class="modal-close waves-effect waves btn-flat modal-delete-confirm">Delete</button> <button id="deleteCancelConfirmReturnBtn" class="modal-close waves-effect waves btn-flat modal-delete-cancel">Return</button></div></div><div class="workingAnim" id="workingAnim"></div><h5 id="h5workingAnimMessage"></h5></div> <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha256-4+XzXVhsDmqanXGHaHvgh1gMQKX40OUvDEBTu8JcmNs=" crossorigin="anonymous"></script> <script src="../JavaScript/Admin/adminFunctions.js"></script> <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script> <script src="https://unpkg.com/axios/dist/axios.min.js"></script> </body></html>